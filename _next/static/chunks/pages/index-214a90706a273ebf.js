(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(9828)}])},9828:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(5893),l=n(7294);function a(){let[e,t]=(0,l.useState)([]),[n,a]=(0,l.useState)(""),[s,o]=(0,l.useState)(""),[c,i]=(0,l.useState)(null),[d,u]=(0,l.useState)(""),[x,m]=(0,l.useState)("");function h(e){localStorage.setItem("poems",JSON.stringify(e)),t(e)}(0,l.useEffect)(()=>{t(JSON.parse(localStorage.getItem("poems"))||[])},[]);let p=e.filter(e=>e.title.toLowerCase().includes(d.toLowerCase()));return(0,r.jsxs)("div",{className:"min-h-screen flex flex-col bg-[url('/Poetry-blog/images/parchment-background.png')] bg-cover bg-center bg-fixed bg-no-repeat overflow-x-hidden",children:[(0,r.jsx)("div",{className:"container mx-auto p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 mb-8",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Добавить стихотворение"}),(0,r.jsx)("input",{type:"text",value:n,onChange:e=>a(e.target.value),placeholder:"Название стихотворения",className:"w-full p-2 mb-4 border rounded"}),(0,r.jsx)("textarea",{value:s,onChange:e=>o(e.target.value),placeholder:"Текст стихотворения",className:"w-full p-2 mb-4 border rounded h-32"}),(0,r.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,r.jsx)("button",{onClick:function(){n&&s&&(c?(h(e.map(e=>e.id===c.id?{...e,title:n,content:s}:e)),i(null)):h([...e,{id:Date.now(),title:n,content:s}]),a(""),o(""))},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",children:c?"Сохранить изменения":"Добавить стихотворение"}),(0,r.jsxs)("label",{className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded cursor-pointer",children:["\uD83D\uDCC4 Загрузить .txt",(0,r.jsx)("input",{type:"file",accept:".txt",onChange:e=>{let t=e.target.files[0];if(!t)return;if("text/plain"!==t.type){m("Пожалуйста, загрузите файл в формате .txt");return}let n=new FileReader;n.onload=e=>{o(e.target.result),a(t.name.replace(".txt","")),m("")},n.onerror=()=>{m("Ошибка при чтении файла")},n.readAsText(t)},className:"hidden"})]})]}),x&&(0,r.jsx)("p",{className:"text-red-500",children:x})]})}),(0,r.jsx)("div",{className:"container mx-auto px-4 mb-8",children:(0,r.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value),placeholder:"Поиск стихотворений...",className:"w-full p-2 border rounded"})}),(0,r.jsx)("ul",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 container mx-auto p-4",children:p.map(t=>(0,r.jsxs)("li",{className:"card fade-in bg-white",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-700",children:t.title}),(0,r.jsx)("p",{className:"text-gray-700 mt-3",children:t.content}),(0,r.jsx)("p",{className:"text-right italic mt-2",children:"- A.G"}),(0,r.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,r.jsx)("button",{onClick:()=>{i(t),a(t.title),o(t.content)},className:"bg-yellow-400 hover:bg-yellow-500 text-white font-bold text-sm px-3 py-1 rounded-md",children:"✏ Редактировать"}),(0,r.jsx)("button",{onClick:()=>(function(e){let t=new Blob(["".concat(e.title,"\n\n").concat(e.content,"\n\n- A.G")],{type:"text/plain;charset=utf-8"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="".concat(e.title,".txt"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)})(t),className:"bg-green-500 hover:bg-green-600 text-white font-bold text-sm px-3 py-1 rounded-md",children:"\uD83D\uDCBE Скачать"}),(0,r.jsx)("button",{onClick:()=>{var n;return n=t.id,void h(e.filter(e=>e.id!==n))},className:"bg-red-500 hover:bg-red-600 text-white font-bold text-sm px-3 py-1 rounded-md",children:"\uD83D\uDDD1 Удалить"})]})]},t.id))}),(0,r.jsx)("footer",{className:"bg-blue-600 text-white py-4 mt-auto",children:(0,r.jsxs)("div",{className:"container mx-auto text-center",children:[(0,r.jsxs)("p",{className:"text-sm",children:["\xa9 ",new Date().getFullYear()," Блог стихотворений. Все права защищены."]}),(0,r.jsxs)("div",{className:"flex justify-center space-x-4 mt-2",children:[(0,r.jsx)("a",{href:"https://www.facebook.com",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Facebook"}),(0,r.jsx)("a",{href:"https://www.instagram.com",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Instagram"}),(0,r.jsx)("a",{href:"https://www.twitter.com",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Twitter"})]})]})})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);