(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return l(9828)}])},9828:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return a}});var n=l(5893),r=l(7294);function a(){let[e,t]=(0,r.useState)([]),[l,a]=(0,r.useState)(""),[s,i]=(0,r.useState)(""),[o,c]=(0,r.useState)(null),[d,u]=(0,r.useState)(""),[x,f]=(0,r.useState)(""),[p,h]=(0,r.useState)(!0),[g,m]=(0,r.useState)(0);function b(e){localStorage.setItem("poems",JSON.stringify(e)),t(e)}(0,r.useEffect)(()=>{t(JSON.parse(localStorage.getItem("poems"))||[])},[]),(0,r.useEffect)(()=>{let e=()=>{let e=window.scrollY;e<g||e<50?h(!0):h(!1),m(e)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[g]);let w=e.filter(e=>e.title.toLowerCase().includes(d.toLowerCase()));return(0,n.jsxs)("div",{className:"min-h-screen flex flex-col bg-[url('/Poetry-blog/images/parchment-background.png')] bg-cover bg-center bg-fixed bg-no-repeat overflow-x-hidden",style:{backgroundColor:"rgba(255, 252, 242, 0.7)",backgroundBlendMode:"overlay",paddingTop:"1rem"},children:[(0,n.jsx)("header",{className:"bg-blue-600 text-white py-4 shadow-lg fixed w-full top-0 z-50 transition-transform duration-300 ".concat(p?"translate-y-0":"-translate-y-full"),children:(0,n.jsx)("div",{className:"container mx-auto px-4",children:(0,n.jsxs)("div",{className:"flex justify-between items-center gap-8",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3 shrink-0",children:[(0,n.jsx)("span",{className:"text-3xl",children:"\uD83D\uDCDA"}),(0,n.jsx)("h1",{className:"text-3xl font-serif italic",style:{fontFamily:"'Playfair Display', serif"},children:"Блог стихотворений"})]}),(0,n.jsx)("div",{className:"w-full max-w-xl",children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value),placeholder:"Поиск стихотворений...",className:"w-full p-3 rounded-full pl-12 text-gray-800 text-lg focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-300"}),(0,n.jsx)("span",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-xl",children:"\uD83D\uDD0D"})]})})]})})}),(0,n.jsx)("div",{className:"container mx-auto p-4",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg p-8 mb-8 shadow-lg",children:[(0,n.jsxs)("h2",{className:"text-3xl font-serif italic mb-6 text-gray-900 font-bold text-center flex items-center justify-center gap-3",style:{fontFamily:"'Playfair Display', serif"},children:[(0,n.jsx)("span",{children:"✨"})," Добавить стихотворение"]}),(0,n.jsx)("input",{type:"text",value:l,onChange:e=>a(e.target.value),placeholder:"Название стихотворения",className:"w-full p-4 mb-4 border rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-300 text-lg text-gray-800"}),(0,n.jsx)("textarea",{value:s,onChange:e=>i(e.target.value),placeholder:"Текст стихотворения",className:"w-full p-4 mb-4 border rounded-lg h-40 resize-none focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-300 text-lg text-gray-800 leading-relaxed"}),(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsx)("button",{onClick:function(){l&&s&&(o?(b(e.map(e=>e.id===o.id?{...e,title:l,content:s}:e)),c(null)):b([...e,{id:Date.now(),title:l,content:s}]),a(""),i(""))},className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-full transition-colors duration-300 text-lg flex items-center gap-2",children:o?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:"\uD83D\uDCAB"})," Сохранить изменения"]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:"✨"})," Добавить стихотворение"]})}),(0,n.jsxs)("label",{className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-full cursor-pointer transition-colors duration-300 text-lg flex items-center gap-2",children:[(0,n.jsx)("span",{children:"\uD83D\uDCC4"})," Загрузить .txt",(0,n.jsx)("input",{type:"file",accept:".txt",onChange:e=>{let t=e.target.files[0];if(!t)return;if("text/plain"!==t.type){f("Пожалуйста, загрузите файл в формате .txt");return}let l=new FileReader;l.onload=e=>{i(e.target.result),a(t.name.replace(".txt","")),f("")},l.onerror=()=>{f("Ошибка при чтении файла")},l.readAsText(t)},className:"hidden"})]})]}),x&&(0,n.jsx)("p",{className:"text-red-500 mt-3 text-lg",children:x})]})}),(0,n.jsx)("div",{className:"container mx-auto px-4 flex-grow",children:(0,n.jsx)("ul",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:w.map(t=>(0,n.jsxs)("li",{className:"bg-white rounded-lg shadow-lg p-8 hover:shadow-xl transition-shadow duration-300",children:[(0,n.jsx)("h2",{className:"text-2xl font-serif italic text-gray-900 mb-4 font-bold text-center",style:{fontFamily:"'Playfair Display', serif"},children:t.title}),(0,n.jsx)("p",{className:"text-gray-800 mt-3 font-serif leading-relaxed text-lg whitespace-pre-wrap",style:{fontFamily:"'Playfair Display', serif"},children:t.content}),(0,n.jsx)("p",{className:"text-right italic mt-4 text-gray-700 text-lg",children:"- A.G"}),(0,n.jsxs)("div",{className:"flex justify-center gap-6 mt-6",children:[(0,n.jsxs)("button",{onClick:()=>{c(t),a(t.title),i(t.content)},className:"bg-yellow-400 hover:bg-yellow-500 text-white font-bold text-base px-5 py-2 rounded-full transition-colors duration-300 flex items-center gap-2 min-w-[140px] justify-center",children:[(0,n.jsx)("span",{children:"✏️"})," Редактировать"]}),(0,n.jsxs)("button",{onClick:()=>(function(e){let t=new Blob(["".concat(e.title,"\n\n").concat(e.content,"\n\n- A.G")],{type:"text/plain;charset=utf-8"}),l=URL.createObjectURL(t),n=document.createElement("a");n.href=l,n.download="".concat(e.title,".txt"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(l)})(t),className:"bg-green-500 hover:bg-green-600 text-white font-bold text-base px-5 py-2 rounded-full transition-colors duration-300 flex items-center gap-2 min-w-[140px] justify-center",children:[(0,n.jsx)("span",{children:"\uD83D\uDCBE"})," Скачать"]}),(0,n.jsxs)("button",{onClick:()=>{var l;return l=t.id,void b(e.filter(e=>e.id!==l))},className:"bg-red-500 hover:bg-red-600 text-white font-bold text-base px-5 py-2 rounded-full transition-colors duration-300 flex items-center gap-2 min-w-[140px] justify-center",children:[(0,n.jsx)("span",{children:"\uD83D\uDDD1️"})," Удалить"]})]})]},t.id))})}),(0,n.jsx)("footer",{className:"bg-blue-600 text-white py-4 mt-8",children:(0,n.jsxs)("div",{className:"container mx-auto text-center",children:[(0,n.jsxs)("p",{className:"text-sm",children:["\xa9 ",new Date().getFullYear()," Блог стихотворений. Все права защищены."]}),(0,n.jsxs)("div",{className:"flex justify-center space-x-4 mt-2",children:[(0,n.jsx)("a",{href:"https://www.facebook.com",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Facebook"}),(0,n.jsx)("a",{href:"https://www.instagram.com",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Instagram"}),(0,n.jsx)("a",{href:"https://www.twitter.com",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Twitter"})]})]})})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);